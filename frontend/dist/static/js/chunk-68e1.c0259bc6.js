(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-68e1"],{"6air":function(t,e,a){"use strict";a.d(e,"t",function(){return n}),a.d(e,"e",function(){return o}),a.d(e,"l",function(){return d}),a.d(e,"u",function(){return i}),a.d(e,"v",function(){return l}),a.d(e,"j",function(){return s}),a.d(e,"g",function(){return c}),a.d(e,"k",function(){return u}),a.d(e,"p",function(){return m}),a.d(e,"o",function(){return f}),a.d(e,"n",function(){return p}),a.d(e,"F",function(){return b}),a.d(e,"d",function(){return _}),a.d(e,"D",function(){return h}),a.d(e,"G",function(){return v}),a.d(e,"s",function(){return g}),a.d(e,"H",function(){return F}),a.d(e,"c",function(){return w}),a.d(e,"C",function(){return y}),a.d(e,"I",function(){return x}),a.d(e,"y",function(){return j}),a.d(e,"a",function(){return O}),a.d(e,"A",function(){return k}),a.d(e,"z",function(){return $}),a.d(e,"r",function(){return S}),a.d(e,"x",function(){return A}),a.d(e,"b",function(){return B}),a.d(e,"B",function(){return C}),a.d(e,"w",function(){return P}),a.d(e,"h",function(){return W}),a.d(e,"E",function(){return q}),a.d(e,"f",function(){return z}),a.d(e,"m",function(){return K}),a.d(e,"q",function(){return I}),a.d(e,"i",function(){return D});var r=a("t3Un");function n(t){return Object(r.a)({url:"/patter1list",method:"post",data:t})}function o(t){return Object(r.a)({url:"/addpatter1",method:"post",data:t})}function d(t){return Object(r.a)({url:"/editpatter1",method:"post",data:t})}function i(t){return Object(r.a)({url:"/patterwordlist",method:"post",data:t})}function l(t){return Object(r.a)({url:"/rolemanagelist",method:"post",data:t})}function s(t){return Object(r.a)({url:"/changespeechrole",method:"post",data:t})}function c(t){return Object(r.a)({url:"/allrole",method:"post",data:t})}function u(t){return Object(r.a)({url:"/delPatter1Word",method:"post",data:t})}function m(t){return Object(r.a)({url:"/getPatter1Info",method:"post",data:t})}function f(t){return Object(r.a)({url:"/getAllWordBase",method:"post",data:t})}function p(t){return Object(r.a)({url:"/getAllScene",method:"post",data:t})}function b(t){return Object(r.a)({url:"/wordBaseList",method:"post",data:t})}function _(t){return Object(r.a)({url:"/wordBaseAdd",method:"post",data:t})}function h(t){return Object(r.a)({url:"/wordBaseChange",method:"post",data:t})}function v(t){return Object(r.a)({url:"/wordBaseDelete",method:"post",data:t})}function g(t){return Object(r.a)({url:"/getwordBaseInfo",method:"post",data:t})}function F(t){return Object(r.a)({url:"/wordListApi",method:"post",data:t})}function w(t){return Object(r.a)({url:"/wordAdd",method:"post",data:t})}function y(t){return Object(r.a)({url:"/wordChange",method:"post",data:t})}function x(t){return Object(r.a)({url:"/wordDelete",method:"post",data:t})}function j(t){return Object(r.a)({url:"/sceneListApi",method:"post",data:t})}function O(t){return Object(r.a)({url:"/sceneAdd",method:"post",data:t})}function k(t){return Object(r.a)({url:"/sceneChange",method:"post",data:t})}function $(t){return Object(r.a)({url:"/sceneDelete",method:"post",data:t})}function S(t){return Object(r.a)({url:"/getSceneInfo",method:"post",data:t})}function A(t){return Object(r.a)({url:"/sceneKeyList",method:"post",data:t})}function B(t){return Object(r.a)({url:"/sceneKeyAdd",method:"post",data:t})}function C(t){return Object(r.a)({url:"/sceneKeyChange",method:"post",data:t})}function P(t){return Object(r.a)({url:"/sceneKeyDelete",method:"post",data:t})}function W(t){return Object(r.a)({url:"/allvoice",method:"post",data:t})}function q(t){return Object(r.a)({url:"/word1list",method:"post",data:t})}function z(t){return Object(r.a)({url:"/addpatter1word",method:"post",data:t})}function K(t){return Object(r.a)({url:"/editpatter1word",method:"post",data:t})}function I(t){return Object(r.a)({url:"/getPatter1Word",method:"post",data:t})}function D(t){return Object(r.a)({url:"/changePatter",method:"post",data:t})}},AKiz:function(t,e,a){"use strict";var r=a("N/SJ");a.n(r).a},"N/SJ":function(t,e,a){},jNG5:function(t,e,a){"use strict";a.r(e);var r=a("FyfS"),n=a.n(r),o=a("X4fA"),d=a("6air"),i={name:"PatterWordEdit",data:function(){return{pid:0,wid:0,isAddBtn:!0,addForm:{id:"",pid:0,sign:"",type:0,word_base:null,word_base_name:"",score:0,voice_id:0,role_id:0,order:0,y_next:0,n_next:0,u_next:0,repeatable:0,replace:0,pass_key:0,scene_id:0,scene_name:"",normal_intention:0,go_straight:0,label:"",waittime:0},word_bases:[],scenes:[],voicelist:[],rolelist:[],wordlist:[],row_wordlist:[],type_arr:[{value:0,label:"关键词"},{value:1,label:"入口"},{value:2,label:"主干"},{value:3,label:"出错结束语"},{value:4,label:"没说话的回答"},{value:5,label:"没说话3次的结束语"},{value:6,label:"否定三次的结束语"}],intention_arr:[{value:0,name:"不进行普通意向判断"},{value:1,name:"先进行普通意向判断"},{value:2,name:"后进行普通意向判断"}],rules:{voice_id:[{required:!0,message:"内容不能为空",trigger:"blur"}]}}},created:function(){this.$route.query&&"pid"in this.$route.query?(this.pid=this.$route.query.pid,this.addForm.pid=this.pid,"wid"in this.$route.query&&(this.wid=this.$route.query.wid,this.getInfo(),this.isAddBtn=!1),this.getWordBase(),this.getScene(),this.getRolelist(),this.getVoicelist(),this.getwordlist()):this.$message.error("话术不存在")},methods:{getWordBase:function(){var t=this;Object(d.o)({token:Object(o.a)()}).then(function(e){var a=e.data;"0000"==a.code?(t.word_bases=a.data,t.word_bases.unshift({id:0,name:"空"})):t.$message.error(a.msg)}).catch(function(e){t.$message.error("获取关键词列表失败！")})},getScene:function(){var t=this;Object(d.n)({token:Object(o.a)()}).then(function(e){var a=e.data;"0000"==a.code?(t.scenes=a.data,t.scenes.unshift({id:0,name:"空"})):t.$message.error(a.msg)}).catch(function(e){t.$message.error("获取情景关键词列表失败！")})},wordBaseChange:function(t){var e=!0,a=!1,r=void 0;try{for(var o,d=n()(this.word_bases);!(e=(o=d.next()).done);e=!0){var i=o.value;if(i.id==t){this.addForm.word_base_name=i.name;break}}}catch(t){a=!0,r=t}finally{try{!e&&d.return&&d.return()}finally{if(a)throw r}}},sceneChange:function(t){var e=!0,a=!1,r=void 0;try{for(var o,d=n()(this.scenes);!(e=(o=d.next()).done);e=!0){var i=o.value;if(i.id==t){this.addForm.scene_name=i.name;break}}}catch(t){a=!0,r=t}finally{try{!e&&d.return&&d.return()}finally{if(a)throw r}}},getRolelist:function(){var t=this;Object(d.g)({pid:this.pid}).then(function(e){t.rolelist=e.data.data})},getVoicelist:function(){var t=this;Object(d.h)({token:Object(o.a)()}).then(function(e){t.voicelist=e.data.data})},getwordlist:function(){var t=this;Object(d.E)({pid:this.pid}).then(function(e){t.wordlist=e.data.data,t.row_wordlist=e.data.data.concat([]),t.wordlist.unshift({id:-1,sign:"挂机"}),t.wordlist.unshift({id:0,sign:"空"})})},PatterWordAction:function(){var t=this;this.$confirm("此操作将即时生效, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$refs.addForm.validate(function(e){if(!e)return!1;var a=t.addForm;t.isAddBtn?t.addPatter(a):t.updatePatter(a)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},addPatter:function(t){var e=this;Object(d.f)(t).then(function(t){"0000"==t.data.code?e.$message.success("添加成功"):e.$message.error(t.data.msg)})},updatePatter:function(t){var e=this;Object(d.m)(t).then(function(t){"0000"==t.data.code?e.$message.success(t.data.msg):e.$message.error(t.data.msg)})},getInfo:function(){var t=this;Object(d.q)({wid:this.wid}).then(function(e){var a=e.data.data;t.addForm.id=a.id,t.addForm.pid=a.pid,t.addForm.sign=a.sign,t.addForm.type=a.type,t.addForm.word_base=a.word_base,t.addForm.word_base_name=a.word_base_name,t.addForm.score=a.score,t.addForm.voice_id=a.voice_id,t.addForm.role_id=a.role,t.addForm.order=a.order,t.addForm.y_next=a.y_next,t.addForm.n_next=a.n_next,t.addForm.u_next=a.u_next,t.addForm.repeatable=a.repeatable,t.addForm.replace=a.replace,t.addForm.pass_key=a.pass_key,t.addForm.scene_id=a.scene_id,t.addForm.scene_name=a.scene_name,t.addForm.normal_intention=a.normal_intention,t.addForm.go_straight=a.go_straight,t.addForm.label=a.label,t.addForm.waittime=a.waittime})}}},l=(a("AKiz"),a("KHd+")),s=Object(l.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"}),t._v(" "),a("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.rules,size:"small","label-width":"150px"}},[a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.addForm.type,callback:function(e){t.$set(t.addForm,"type",e)},expression:"addForm.type"}},t._l(t.type_arr,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"语句简称"}},[a("el-input",{attrs:{type:"text"},model:{value:t.addForm.sign,callback:function(e){t.$set(t.addForm,"sign",e)},expression:"addForm.sign"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关键词"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择关键词"},on:{change:t.wordBaseChange},model:{value:t.addForm.word_base,callback:function(e){t.$set(t.addForm,"word_base",e)},expression:"addForm.word_base"}},t._l(t.word_bases,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"分值",prop:"score"}},[a("el-input-number",{attrs:{type:"number"},model:{value:t.addForm.score,callback:function(e){t.$set(t.addForm,"score",e)},expression:"addForm.score"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"选择角色"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择语音"},model:{value:t.addForm.role_id,callback:function(e){t.$set(t.addForm,"role_id",e)},expression:"addForm.role_id"}},t._l(t.rolelist,function(t){return a("el-option",{key:t.id,attrs:{label:t.common,value:t.role}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"选择语音"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择语音"},model:{value:t.addForm.voice_id,callback:function(e){t.$set(t.addForm,"voice_id",e)},expression:"addForm.voice_id"}},t._l(t.voicelist,function(t){return a("el-option",{key:t.id,attrs:{label:t.word,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"order"}},[a("el-input-number",{attrs:{type:"number",min:0},model:{value:t.addForm.order,callback:function(e){t.$set(t.addForm,"order",e)},expression:"addForm.order"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"请选择肯定回答"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择话术"},model:{value:t.addForm.y_next,callback:function(e){t.$set(t.addForm,"y_next",e)},expression:"addForm.y_next"}},t._l(t.wordlist,function(e){return a("el-option",{key:e.id,attrs:{label:e.sign,value:e.id}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.sign))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.word))])])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"请选择中性回答"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择话术"},model:{value:t.addForm.u_next,callback:function(e){t.$set(t.addForm,"u_next",e)},expression:"addForm.u_next"}},t._l(t.wordlist,function(e){return a("el-option",{key:e.id,attrs:{label:e.sign,value:e.id}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.sign))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.word))])])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"请选择否定回答"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择话术"},model:{value:t.addForm.n_next,callback:function(e){t.$set(t.addForm,"n_next",e)},expression:"addForm.n_next"}},t._l(t.wordlist,function(e){return a("el-option",{key:e.id,attrs:{label:e.sign,value:e.id}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.sign))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.word))])])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"是否不可重复"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.addForm.repeatable,callback:function(e){t.$set(t.addForm,"repeatable",e)},expression:"addForm.repeatable"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"不可重复的替代语句"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择替代语句"},model:{value:t.addForm.replace,callback:function(e){t.$set(t.addForm,"replace",e)},expression:"addForm.replace"}},t._l(t.row_wordlist,function(e){return a("el-option",{key:e.id,attrs:{label:e.sign,value:e.id}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.sign))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.word))])])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"不匹配关键词"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.addForm.pass_key,callback:function(e){t.$set(t.addForm,"pass_key",e)},expression:"addForm.pass_key"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"情景关键词"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择情景关键词"},on:{change:t.sceneChange},model:{value:t.addForm.scene_id,callback:function(e){t.$set(t.addForm,"scene_id",e)},expression:"addForm.scene_id"}},t._l(t.scenes,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"情景关键词处理次序"}},[a("el-select",{attrs:{placeholder:"请选择情景关键词处理次序"},model:{value:t.addForm.normal_intention,callback:function(e){t.$set(t.addForm,"normal_intention",e)},expression:"addForm.normal_intention"}},t._l(t.intention_arr,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"不做任何处理直接进入下一肯定流程"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.addForm.go_straight,callback:function(e){t.$set(t.addForm,"go_straight",e)},expression:"addForm.go_straight"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标签"}},[a("el-input",{attrs:{type:"text"},model:{value:t.addForm.label,callback:function(e){t.$set(t.addForm,"label",e)},expression:"addForm.label"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"最大等待对方说话时间（0为系统默认时间，单位：秒）",prop:"waittime"}},[a("el-input-number",{attrs:{type:"number",min:0},model:{value:t.addForm.waittime,callback:function(e){t.$set(t.addForm,"waittime",e)},expression:"addForm.waittime"}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px",display:"flex","justify-content":"flex-end"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.PatterWordAction()}}},[t._v(t._s(t.isAddBtn?"确定":"更新"))])],1)],1)],1)},[],!1,null,"045ea8b5",null);s.options.__file="patterWordEdit.vue";e.default=s.exports}}]);