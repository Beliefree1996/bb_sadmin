(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e454"],{"+W4m":function(e,t,i){"use strict";i.r(t);var a=i("Lw+M"),l={name:"UserMTListTable",data:function(){return{Userlist:[],GUserlist:[],gatewayoptions:[],geerategroupoptions:[],listLoading:!0,gatewayaicti:void 0,dialogFormVisible:!1,dialogFormListVisible:!1,multipleSelection:[],form:{username:void 0,nikename:void 0,password:void 0,mobile:void 0,gid:void 0,fee:void 0,guser:void 0},temp:{names:[],guser:0,fee:void 0},tags:[],rules:{username:[{required:!0,message:"请填写名字",trigger:"blur"}],nikename:[{required:!0,message:"请填写昵称",trigger:"blur"}],password:[{required:!0,message:"请设置密码",trigger:"blur"}],gid:[{required:!0,message:"请选择权限",trigger:"blur"}]},rulesbatch:{names:[{required:!0,message:"请填写名字",trigger:"blur"}]}}},created:function(){this.getUserlist()},methods:{resetTemp:function(){this.temp={names:[],gateway:void 0,fee:void 0,maxsnum:void 0},this.tags=[]},getUserlist:function(){var e=this;Object(a.h)().then(function(t){e.Userlist=t.data.data})},postDelUser:function(e){var t=this;Object(a.d)(e).then(function(e){t.getUserlist()})},addforname:function(){var e=this;this.resetTemp(),this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},addfornames:function(){var e=this;this.resetTemp(),this.dialogFormListVisible=!0,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},handleChange:function(e,t){t?this.tags.splice(e,0,t):this.tags.splice(e,1),this.temp.names=this.tags},createusers:function(e){var t=this;this.$refs.dataForm.validate(function(i){i&&("list"==e?adduerlist(t.temp).then(function(){t.getUserlist(),t.dialogFormListVisible=!1,t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}):(1==t.form&&t.form,adduser(t.form).then(function(){t.getUserlist(),t.dialogFormListVisible=!1,t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})))})},handleSelectionChange:function(e){this.multipleSelection=e},toggleSelectioncler:function(){this.$refs.AiTable.clearSelection()},toggleSelection:function(e){var t=this;if(this.multipleSelection){for(var i={ids:""},a=0;a<this.multipleSelection.length;a++)i.ids+=this.multipleSelection[a].id,a<this.multipleSelection.length-1&&(i.ids+=",");this.listLoading=!0,createlistaicti(i).then(function(e){t.$message.success(e.data.msg),t.listLoading=!1})}else this.$message.error("请选择用户")}}},s=(i("NY+k"),i("KHd+")),r=Object(s.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.Userlist,border:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{prop:"id",label:"用戶ID",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"username",label:"用戶名"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户组",prop:"gid"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.gid?i("span",[e._v("\n                    销售\n                ")]):"2"==t.row.gid?i("span",[e._v("\n                    经理\n                ")]):"3"==t.row.gid?i("span",[e._v("\n                    员工\n                ")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center","min-width":"150",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("router-link",{attrs:{to:3!=t.row.gid?"/table/GetTaskList/"+t.row.id:"/table/GetTaskRobotList/"+t.row.id}},[i("el-button",{attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-search"}},[e._v("查看")])],1),e._v(" "),i("router-link",{attrs:{to:"/table/RechArgeUserTable/"+t.row.id+"/"+t.row.gid}},[i("el-button",{attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-goods"}},[e._v("充值")])],1)]}}])})],1),e._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-select",{staticStyle:{"min-width":"100px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.gatewayaicti,callback:function(t){e.gatewayaicti=t},expression:"gatewayaicti"}},e._l(e.gatewayoptions,function(t){return""!==t.memo?i("el-option",{key:t.memo,attrs:{label:t.remoteIp,value:t.name}}):e._e()})),e._v(" "),i("el-button",{attrs:{type:"success"},on:{click:function(t){e.toggleSelection(e.Userlist)}}},[e._v("批量操作")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.toggleSelectioncler()}}},[e._v("取消选择")])],1),e._v(" "),i("el-dialog",{attrs:{title:"添加用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"800px","margin-left":"50px"},attrs:{rules:e.rules,model:e.form,"label-position":"left","label-width":"110px"}},[i("el-form-item",{attrs:{label:"用户名",prop:"username"}},[i("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"昵称",prop:"nikename"}},[i("el-input",{model:{value:e.form.nikename,callback:function(t){e.$set(e.form,"nikename",t)},expression:"form.nikename"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"password"}},[i("el-input",{attrs:{"show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"选择权限",prop:"gid"}},[i("el-select",{staticStyle:{"min-width":"500px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.gid,callback:function(t){e.$set(e.form,"gid",t)},expression:"form.gid"}},[i("el-option",{attrs:{label:"销售",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"经理",value:"2"}}),e._v(" "),i("el-option",{attrs:{label:"员工",value:"3"}})],1)],1),e._v(" "),2!=e.form.gid?i("el-form-item",{attrs:{label:"所属",prop:"guser"}},[i("el-select",{staticStyle:{"min-width":"100px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.guser,callback:function(t){e.$set(e.form,"guser",t)},expression:"form.guser"}},e._l(e.GUserlist,function(e){return i("el-option",{key:e.id,attrs:{label:e.nikename,value:e.id}})}))],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"电话",prop:"mobile"}},[i("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),2!=e.form.gid?i("el-form-item",{attrs:{label:"选择费率",prop:"fee"}},[i("el-select",{staticStyle:{"min-width":"500px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.fee,callback:function(t){e.$set(e.form,"fee",t)},expression:"form.fee"}},e._l(e.geerategroupoptions,function(e){return i("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}))],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createusers("one")}}},[e._v(e._s(e.$t("table.confirm")))])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"批量添加用户",visible:e.dialogFormListVisible},on:{"update:visible":function(t){e.dialogFormListVisible=t}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"800px","margin-left":"50px"},attrs:{rules:e.rulesbatch,model:e.temp,"label-position":"left","label-width":"110px"}},[i("el-form-item",{attrs:{label:"用户名",prop:"names"}},[i("tags-input",{attrs:{tags:e.tags},on:{"tags-change":e.handleChange},model:{value:e.temp.names,callback:function(t){e.$set(e.temp,"names",t)},expression:"temp.names"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"所属",prop:"guser"}},[i("el-select",{staticStyle:{"min-width":"100px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.temp.guser,callback:function(t){e.$set(e.temp,"guser",t)},expression:"temp.guser"}},e._l(e.GUserlist,function(e){return i("el-option",{key:e.id,attrs:{label:e.nikename,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"选择费率",prop:"fee"}},[i("el-select",{staticStyle:{"min-width":"500px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.temp.fee,callback:function(t){e.$set(e.temp,"fee",t)},expression:"temp.fee"}},e._l(e.geerategroupoptions,function(e){return i("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}))],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormListVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createusers("list")}}},[e._v(e._s(e.$t("table.confirm")))])],1)],1)],1)},[],!1,null,"e629ec24",null);r.options.__file="UserMTListTable.vue";t.default=r.exports},"Lw+M":function(e,t,i){"use strict";i.d(t,"h",function(){return l}),i.d(t,"f",function(){return s}),i.d(t,"g",function(){return r}),i.d(t,"d",function(){return o}),i.d(t,"e",function(){return n}),i.d(t,"c",function(){return c}),i.d(t,"b",function(){return u}),i.d(t,"a",function(){return m});var a=i("t3Un");function l(){return Object(a.a)({url:"https://api.bbxxjs.com/api/mtuserlist",method:"get"})}function s(e){return Object(a.a)({url:"https://api.bbxxjs.com/api/suserlist",method:"get",params:{sid:e}})}function r(e){return Object(a.a)({url:"https://api.bbxxjs.com/api/speechlist",method:"get",params:{uid:e}})}function o(e){return Object(a.a)({url:"https://api.bbxxjs.com/api/del/user",method:"post",data:{sid:e}})}function n(e){return Object(a.a)({url:"https://api.bbxxjs.com/api/srtuserlist",method:"get",params:{uid:e}})}function c(e){return Object(a.a)({url:"https://api.bbxxjs.com/api/del/srtuser",method:"post",data:{sid:e}})}function u(e){return Object(a.a)({url:"https://api.bbxxjs.com/api/add/autodialertask",method:"post",data:e})}function m(e){return Object(a.a)({url:"https://api.bbxxjs.com/api/rechargevos",method:"post",data:e})}},"NY+k":function(e,t,i){"use strict";var a=i("nWXj");i.n(a).a},nWXj:function(e,t,i){}}]);